<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><title>贪吃蛇大作战</title></head><body style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: Arial;"><div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 20px; text-align: center;"><h1 style="color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">🐍 贪吃蛇大作战</h1><canvas id="gameCanvas" width="400" height="400" style="border: 3px solid rgba(255,255,255,0.3); border-radius: 10px; background: rgba(0,0,0,0.3);"></canvas><div style="margin-top: 20px;"><button onclick="startGame()" style="padding: 10px 20px; background: linear-gradient(45deg, #ff6b6b, #ee5a24); border: none; border-radius: 25px; color: white; cursor: pointer; margin: 5px;">开始游戏</button><button onclick="resetGame()" style="padding: 10px 20px; background: rgba(255,255,255,0.2); border: none; border-radius: 25px; color: white; cursor: pointer; margin: 5px;">重新开始</button></div><p style="color: white; margin-top: 15px;">使用方向键控制蛇的移动</p><p style="color: white;">得分: <span id="score">0</span></p></div><script>const GRID_SIZE=20; let game={canvas:null,ctx:null,snake:[{x:200,y:200}],direction:"RIGHT",food:{x:0,y:0},score:0,isRunning:false,gameLoop:null}; function initGame(){game.canvas=document.getElementById("gameCanvas"); game.ctx=game.canvas.getContext("2d"); generateFood(); draw(); document.addEventListener("keydown",handleKeyPress);} function startGame(){if(game.isRunning)return; game.isRunning=true; game.gameLoop=setInterval(gameUpdate,150);} function resetGame(){clearInterval(game.gameLoop); game.snake=[{x:200,y:200}]; game.direction="RIGHT"; game.score=0; game.isRunning=false; generateFood(); updateUI(); draw();} function gameUpdate(){moveSnake(); if(checkCollision()){alert("游戏结束!得分: "+game.score); resetGame(); return;} if(checkFoodCollision()){eatFood();} draw();} function moveSnake(){const head=Object.assign({},game.snake[0]); switch(game.direction){case "UP":head.y-=GRID_SIZE;break; case "DOWN":head.y+=GRID_SIZE;break; case "LEFT":head.x-=GRID_SIZE;break; case "RIGHT":head.x+=GRID_SIZE;break;} game.snake.unshift(head); game.snake.pop();} function checkCollision(){const head=game.snake[0]; if(head.x<0||head.x>=400||head.y<0||head.y>=400)return true; for(let i=1;i<game.snake.length;i++){if(head.x===game.snake[i].x&&head.y===game.snake[i].y)return true;} return false;} function checkFoodCollision(){const head=game.snake[0]; return head.x===game.food.x&&head.y===game.food.y;} function eatFood(){game.score+=10; game.snake.push(Object.assign({},game.snake[game.snake.length-1])); generateFood(); updateUI();} function generateFood(){game.food={x:Math.floor(Math.random()*20)*GRID_SIZE,y:Math.floor(Math.random()*20)*GRID_SIZE};} function draw(){game.ctx.fillStyle="rgba(0,0,0,0.3)"; game.ctx.fillRect(0,0,400,400); game.snake.forEach((segment,index)=>{game.ctx.fillStyle=index===0?"#ffff00":"#00ff88"; game.ctx.fillRect(segment.x,segment.y,GRID_SIZE-2,GRID_SIZE-2);}); game.ctx.fillStyle="#ff4757"; game.ctx.fillRect(game.food.x,game.food.y,GRID_SIZE-2,GRID_SIZE-2);} function updateUI(){document.getElementById("score").textContent=game.score;} function handleKeyPress(event){switch(event.key){case "ArrowUp":event.preventDefault(); if(game.direction!=="DOWN")game.direction="UP"; break; case "ArrowDown":event.preventDefault(); if(game.direction!=="UP")game.direction="DOWN"; break; case "ArrowLeft":event.preventDefault(); if(game.direction!=="RIGHT")game.direction="LEFT"; break; case "ArrowRight":event.preventDefault(); if(game.direction!=="LEFT")game.direction="RIGHT"; break;}} window.addEventListener("load",initGame);</script></body></html>
